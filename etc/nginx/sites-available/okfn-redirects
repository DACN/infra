server {
	listen   localhost:8080 default;
	server_name  localhost;
	access_log  /var/log/nginx/localhost.access.log;

	location / {
		root   /var/www/nginx-default;
		index  index.html index.htm;
	}

	if ( $host = thedatawrangler.org ) {
		rewrite ^(.*)$ http://www.thedatawrangler.org$1 permanent; 
	}

	# See http://trac.okfn.org/ticket/1225
	if ( $host = semantic.ckan.net ) {
		rewrite ^(.*)$ http://notice.ckan.org/semantic.ckan.net-down.html permanent;
	}

	# See http://trac.okfn.org/ticket/933
	if ( $host = si.ckan.net ) {
		rewrite ^(.*)$ http://thedatahub.org/group/country-si permanent;
	}
	
	# See http://trac.okfn.org/ticket/933
	if ( $host = ca.ckan.net ) {
		rewrite ^(.*)$ http://thedatahub.org/group/country-ca permanent;
	}
	
	# See http://trac.okfn.org/ticket/933
	if ( $host = nederland.ckan.net ) {
		rewrite ^(.*)$ http://thedatahub.org/group/nederland permanent;
	}
	
	# See http://trac.okfn.org/ticket/996
	if ( $host = m.okfn.org ) {
		rewrite ^(.*)$ http://assets.okfn.org$1 permanent;
	}
	
	# See http://trac.okfn.org/ticket/1057
	if ( $host ~* ((www|bnb)\.|)bibliographica.org$ ) {
		rewrite ^(.*)$ http://openbiblio.net/p/bibliographica/ permanent; 
	}

	if ( $host = weavinghistory.org ) {
		rewrite ^(.*)$ http://www.weavinghistory.org$1 permanent; 
	}

	if ( $host ~* (www\.|)ckanhosted.com$ ) {
		rewrite ^(.*)$ http://ckan.org/ permanent; 
	}

	if ( $host ~* (www\.|)openknowledgefoundation.org$ ) {
		rewrite ^(.*)$ http://okfn.org/ permanent; 
	}

	if ( $host = iati.ckan.net ) {
		rewrite ^(.*)$ http://iatiregistry.org$1 permanent; 
	}

	if ( $host = wiki.ckan.net ) {
		rewrite ^(.*)$ http://wiki.ckan.org$1 permanent; 
	}

	if ( $host = ckan.net ) {
		rewrite ^(.*)$ http://thedatahub.org$1 permanent; 
	}
	if ( $host = www.ckan.net ) {
		rewrite ^(.*)$ http://thedatahub.org$1 permanent; 
	}

	if ( $host = opendatachallenge.org ) {
		rewrite ^(.*)$ http://www.opendatachallenge.org$1 permanent; 
	}

	if ( $host = coins.wheredoesmymoneygo.org ) {
		rewrite ^(.*)$ http://openspending.org/ permanent;
	}

	if ( $host = ask.wheredoesmymoneygo.org ) {
		rewrite ^(.*)$ http://getthedata.org/tags/openspending/ permanent;
	}
	
	if ( $host ~* (www\.|)opendatamanual\.org ) {
		rewrite ^(.*)$ http://opendatahandbook.org/ permanent;
	}
	
	if ( $host ~* (www\.|)opendatasearch\.org ) {
		rewrite ^(.*)$ http://thedatahub.org/ permanent;
	}

	if ( $host ~* dataprotocols\.org ) {
		rewrite ^(.*)$ http://www.dataprotocols.org/ permanent;
	}
	
	if ( $host ~* datapatterns\.org ) {
		rewrite ^(.*)$ http://handbook.schoolofdata.org/$1 permanent;
	}
	
	if ( $host ~* www.datapatterns\.org ) {
		rewrite ^(.*)$ http://handbook.schoolofdata.org/$1 permanent;
	}

	if ( $host = irc.okfn.org ) {
		rewrite ^/$ http://webchat.freenode.net/?channels=okfn permanent;
		rewrite ^/(.+)$ http://webchat.freenode.net/?channels=okfn,$1 permanent;
	}

	if ( $host = trac.openspending.org ) {
		rewrite ^/ticket/1$ https://github.com/okfn/openspending/issues/1 permanent;
		rewrite ^/ticket/2$ https://github.com/okfn/openspending/issues/2 permanent;
		rewrite ^/ticket/3$ https://github.com/okfn/openspending/issues/3 permanent;
		rewrite ^/ticket/4$ https://github.com/okfn/openspending/issues/4 permanent;
		rewrite ^/ticket/5$ https://github.com/okfn/openspending/issues/5 permanent;
		rewrite ^/ticket/6$ https://github.com/okfn/openspending/issues/6 permanent;
		rewrite ^/ticket/7$ https://github.com/okfn/openspending/issues/7 permanent;
		rewrite ^/ticket/8$ https://github.com/okfn/openspending/issues/8 permanent;
		rewrite ^/ticket/9$ https://github.com/okfn/openspending/issues/9 permanent;
		rewrite ^/ticket/10$ https://github.com/okfn/openspending/issues/10 permanent;
		rewrite ^/ticket/11$ https://github.com/okfn/openspending/issues/11 permanent;
		rewrite ^/ticket/12$ https://github.com/okfn/openspending/issues/12 permanent;
		rewrite ^/ticket/13$ https://github.com/okfn/openspending/issues/13 permanent;
		rewrite ^/ticket/14$ https://github.com/okfn/openspending/issues/14 permanent;
		rewrite ^/ticket/15$ https://github.com/okfn/openspending/issues/15 permanent;
		rewrite ^/ticket/16$ https://github.com/okfn/openspending/issues/16 permanent;
		rewrite ^/ticket/17$ https://github.com/okfn/openspending/issues/17 permanent;
		rewrite ^/ticket/18$ https://github.com/okfn/openspending/issues/18 permanent;
		rewrite ^/ticket/19$ https://github.com/okfn/openspending/issues/19 permanent;
		rewrite ^/ticket/20$ https://github.com/okfn/openspending/issues/20 permanent;
		rewrite ^/ticket/21$ https://github.com/okfn/openspending/issues/21 permanent;
		rewrite ^/ticket/22$ https://github.com/okfn/openspending/issues/22 permanent;
		rewrite ^/ticket/23$ https://github.com/okfn/openspending/issues/23 permanent;
		rewrite ^/ticket/24$ https://github.com/okfn/openspending/issues/24 permanent;
		rewrite ^/ticket/25$ https://github.com/okfn/openspending/issues/25 permanent;
		rewrite ^/ticket/26$ https://github.com/okfn/openspending/issues/26 permanent;
		rewrite ^/ticket/27$ https://github.com/okfn/openspending/issues/27 permanent;
		rewrite ^/ticket/29$ https://github.com/okfn/openspending/issues/28 permanent;
		rewrite ^/ticket/30$ https://github.com/okfn/openspending/issues/29 permanent;
		rewrite ^/ticket/31$ https://github.com/okfn/openspending/issues/30 permanent;
		rewrite ^/ticket/32$ https://github.com/okfn/openspending/issues/31 permanent;
		rewrite ^/ticket/33$ https://github.com/okfn/openspending/issues/32 permanent;
		rewrite ^/ticket/34$ https://github.com/okfn/openspending/issues/33 permanent;
		rewrite ^/ticket/35$ https://github.com/okfn/openspending/issues/34 permanent;
		rewrite ^/ticket/36$ https://github.com/okfn/openspending/issues/35 permanent;
		rewrite ^/ticket/38$ https://github.com/okfn/openspending/issues/36 permanent;
		rewrite ^/ticket/39$ https://github.com/okfn/openspending/issues/37 permanent;
		rewrite ^/ticket/40$ https://github.com/okfn/openspending/issues/38 permanent;
		rewrite ^/ticket/41$ https://github.com/okfn/openspending/issues/39 permanent;
		rewrite ^/ticket/42$ https://github.com/okfn/openspending/issues/40 permanent;
		rewrite ^/ticket/43$ https://github.com/okfn/openspending/issues/41 permanent;
		rewrite ^/ticket/44$ https://github.com/okfn/openspending/issues/42 permanent;
		rewrite ^/ticket/45$ https://github.com/okfn/openspending/issues/43 permanent;
		rewrite ^/ticket/46$ https://github.com/okfn/openspending/issues/44 permanent;
		rewrite ^/ticket/47$ https://github.com/okfn/openspending/issues/45 permanent;
		rewrite ^/ticket/48$ https://github.com/okfn/openspending/issues/46 permanent;
		rewrite ^/ticket/49$ https://github.com/okfn/openspending/issues/47 permanent;
		rewrite ^/ticket/51$ https://github.com/okfn/openspending/issues/48 permanent;
		rewrite ^/ticket/52$ https://github.com/okfn/openspending/issues/49 permanent;
		rewrite ^/ticket/53$ https://github.com/okfn/openspending/issues/50 permanent;
		rewrite ^/ticket/54$ https://github.com/okfn/openspending/issues/51 permanent;
		rewrite ^/ticket/55$ https://github.com/okfn/openspending/issues/52 permanent;
		rewrite ^/ticket/56$ https://github.com/okfn/openspending/issues/53 permanent;
		rewrite ^/ticket/57$ https://github.com/okfn/openspending/issues/54 permanent;
		rewrite ^/ticket/58$ https://github.com/okfn/openspending/issues/55 permanent;
		rewrite ^/ticket/59$ https://github.com/okfn/openspending/issues/56 permanent;
		rewrite ^/ticket/60$ https://github.com/okfn/openspending/issues/57 permanent;
		rewrite ^/ticket/61$ https://github.com/okfn/openspending/issues/58 permanent;
		rewrite ^/ticket/63$ https://github.com/okfn/openspending/issues/59 permanent;
		rewrite ^/ticket/64$ https://github.com/okfn/openspending/issues/60 permanent;
		rewrite ^/ticket/66$ https://github.com/okfn/openspending/issues/61 permanent;
		rewrite ^/ticket/67$ https://github.com/okfn/openspending/issues/62 permanent;
		rewrite ^/ticket/68$ https://github.com/okfn/openspending/issues/63 permanent;
		rewrite ^/ticket/69$ https://github.com/okfn/openspending/issues/64 permanent;
		rewrite ^/ticket/70$ https://github.com/okfn/openspending/issues/65 permanent;
		rewrite ^/ticket/71$ https://github.com/okfn/openspending/issues/66 permanent;
		rewrite ^/ticket/72$ https://github.com/okfn/openspending/issues/67 permanent;
		rewrite ^/ticket/73$ https://github.com/okfn/openspending/issues/68 permanent;
		rewrite ^/ticket/74$ https://github.com/okfn/openspending/issues/69 permanent;
		rewrite ^/ticket/75$ https://github.com/okfn/openspending/issues/70 permanent;
		rewrite ^/ticket/76$ https://github.com/okfn/openspending/issues/71 permanent;
		rewrite ^/ticket/77$ https://github.com/okfn/openspending/issues/72 permanent;
		rewrite ^/ticket/78$ https://github.com/okfn/openspending/issues/73 permanent;
		rewrite ^/ticket/79$ https://github.com/okfn/openspending/issues/74 permanent;
		rewrite ^/ticket/80$ https://github.com/okfn/openspending/issues/75 permanent;
		rewrite ^/ticket/81$ https://github.com/okfn/openspending/issues/76 permanent;
		rewrite ^/ticket/83$ https://github.com/okfn/openspending/issues/77 permanent;
		rewrite ^/ticket/84$ https://github.com/okfn/openspending/issues/78 permanent;
		rewrite ^/ticket/85$ https://github.com/okfn/openspending/issues/79 permanent;
		rewrite ^/ticket/86$ https://github.com/okfn/openspending/issues/80 permanent;
		rewrite ^/ticket/87$ https://github.com/okfn/openspending/issues/81 permanent;
		rewrite ^/ticket/89$ https://github.com/okfn/openspending/issues/82 permanent;
		rewrite ^/ticket/90$ https://github.com/okfn/openspending/issues/83 permanent;
		rewrite ^/ticket/91$ https://github.com/okfn/openspending/issues/84 permanent;
		rewrite ^/ticket/92$ https://github.com/okfn/openspending/issues/85 permanent;
		rewrite ^/ticket/93$ https://github.com/okfn/openspending/issues/86 permanent;
		rewrite ^/ticket/94$ https://github.com/okfn/openspending/issues/87 permanent;
		rewrite ^/ticket/95$ https://github.com/okfn/openspending/issues/88 permanent;
		rewrite ^/ticket/97$ https://github.com/okfn/openspending/issues/89 permanent;
		rewrite ^/ticket/98$ https://github.com/okfn/openspending/issues/90 permanent;
		rewrite ^/ticket/99$ https://github.com/okfn/openspending/issues/91 permanent;
		rewrite ^/ticket/100$ https://github.com/okfn/openspending/issues/92 permanent;
		rewrite ^/ticket/101$ https://github.com/okfn/openspending/issues/93 permanent;
		rewrite ^/ticket/102$ https://github.com/okfn/openspending/issues/94 permanent;
		rewrite ^/ticket/103$ https://github.com/okfn/openspending/issues/95 permanent;
		rewrite ^/ticket/104$ https://github.com/okfn/openspending/issues/96 permanent;
		rewrite ^/ticket/105$ https://github.com/okfn/openspending/issues/97 permanent;
		rewrite ^/ticket/107$ https://github.com/okfn/openspending/issues/98 permanent;
		rewrite ^/ticket/108$ https://github.com/okfn/openspending/issues/99 permanent;
		rewrite ^/ticket/109$ https://github.com/okfn/openspending/issues/100 permanent;
		rewrite ^/ticket/110$ https://github.com/okfn/openspending/issues/101 permanent;
		rewrite ^/ticket/111$ https://github.com/okfn/openspending/issues/102 permanent;
		rewrite ^/ticket/113$ https://github.com/okfn/openspending/issues/103 permanent;
		rewrite ^/ticket/115$ https://github.com/okfn/openspending/issues/104 permanent;
		rewrite ^/ticket/116$ https://github.com/okfn/openspending/issues/105 permanent;
		rewrite ^/ticket/117$ https://github.com/okfn/openspending/issues/106 permanent;
		rewrite ^/ticket/118$ https://github.com/okfn/openspending/issues/107 permanent;
		rewrite ^/ticket/119$ https://github.com/okfn/openspending/issues/108 permanent;
		rewrite ^/ticket/120$ https://github.com/okfn/openspending/issues/109 permanent;
		rewrite ^/ticket/121$ https://github.com/okfn/openspending/issues/110 permanent;
		rewrite ^/ticket/126$ https://github.com/okfn/openspending/issues/111 permanent;
		rewrite ^/ticket/127$ https://github.com/okfn/openspending/issues/112 permanent;
		rewrite ^/ticket/162$ https://github.com/okfn/openspending/issues/113 permanent;
		rewrite ^/ticket/163$ https://github.com/okfn/openspending/issues/114 permanent;
		rewrite ^/ticket/164$ https://github.com/okfn/openspending/issues/115 permanent;
		rewrite ^/ticket/165$ https://github.com/okfn/openspending/issues/116 permanent;
		rewrite ^/ticket/166$ https://github.com/okfn/openspending/issues/117 permanent;
		rewrite ^/ticket/167$ https://github.com/okfn/openspending/issues/118 permanent;
		rewrite ^/ticket/168$ https://github.com/okfn/openspending/issues/119 permanent;
		rewrite ^/ticket/169$ https://github.com/okfn/openspending/issues/120 permanent;
		rewrite ^/ticket/170$ https://github.com/okfn/openspending/issues/121 permanent;
		rewrite ^/ticket/171$ https://github.com/okfn/openspending/issues/122 permanent;
		rewrite ^/ticket/172$ https://github.com/okfn/openspending/issues/123 permanent;
		rewrite ^/ticket/181$ https://github.com/okfn/openspending/issues/124 permanent;
		rewrite ^/ticket/187$ https://github.com/okfn/openspending/issues/125 permanent;
		rewrite ^/ticket/188$ https://github.com/okfn/openspending/issues/126 permanent;
		rewrite ^/ticket/189$ https://github.com/okfn/openspending/issues/127 permanent;
		rewrite ^/ticket/190$ https://github.com/okfn/openspending/issues/128 permanent;
		rewrite ^/ticket/191$ https://github.com/okfn/openspending/issues/129 permanent;
		rewrite ^/ticket/192$ https://github.com/okfn/openspending/issues/130 permanent;
		rewrite ^/ticket/193$ https://github.com/okfn/openspending/issues/131 permanent;
		rewrite ^/ticket/194$ https://github.com/okfn/openspending/issues/132 permanent;
		rewrite ^/ticket/195$ https://github.com/okfn/openspending/issues/133 permanent;
		rewrite ^/ticket/196$ https://github.com/okfn/openspending/issues/134 permanent;
		rewrite ^/ticket/197$ https://github.com/okfn/openspending/issues/135 permanent;
		rewrite ^/ticket/198$ https://github.com/okfn/openspending/issues/136 permanent;
		rewrite ^/ticket/199$ https://github.com/okfn/openspending/issues/137 permanent;
		rewrite ^/ticket/200$ https://github.com/okfn/openspending/issues/138 permanent;
		rewrite ^/ticket/201$ https://github.com/okfn/openspending/issues/139 permanent;
		rewrite ^/ticket/202$ https://github.com/okfn/openspending/issues/140 permanent;
		rewrite ^/ticket/203$ https://github.com/okfn/openspending/issues/141 permanent;
		rewrite ^/ticket/208$ https://github.com/okfn/openspending/issues/142 permanent;
		rewrite ^/ticket/212$ https://github.com/okfn/openspending/issues/143 permanent;
		rewrite ^/ticket/213$ https://github.com/okfn/openspending/issues/144 permanent;
		rewrite ^/ticket/214$ https://github.com/okfn/openspending/issues/145 permanent;
		rewrite ^/ticket/215$ https://github.com/okfn/openspending/issues/146 permanent;
		rewrite ^/ticket/216$ https://github.com/okfn/openspending/issues/147 permanent;
		rewrite ^/ticket/231$ https://github.com/okfn/openspending/issues/148 permanent;
		rewrite ^/ticket/232$ https://github.com/okfn/openspending/issues/149 permanent;
		rewrite ^/ticket/234$ https://github.com/okfn/openspending/issues/150 permanent;
		rewrite ^/ticket/235$ https://github.com/okfn/openspending/issues/151 permanent;
		rewrite ^/ticket/236$ https://github.com/okfn/openspending/issues/152 permanent;
		rewrite ^/ticket/237$ https://github.com/okfn/openspending/issues/153 permanent;
		rewrite ^/ticket/238$ https://github.com/okfn/openspending/issues/154 permanent;
		rewrite ^/ticket/239$ https://github.com/okfn/openspending/issues/155 permanent;
		rewrite ^/ticket/240$ https://github.com/okfn/openspending/issues/156 permanent;
		rewrite ^/ticket/241$ https://github.com/okfn/openspending/issues/157 permanent;
		rewrite ^/ticket/242$ https://github.com/okfn/openspending/issues/158 permanent;
		rewrite ^/ticket/243$ https://github.com/okfn/openspending/issues/159 permanent;
		rewrite ^/ticket/244$ https://github.com/okfn/openspending/issues/160 permanent;
		rewrite ^/ticket/245$ https://github.com/okfn/openspending/issues/161 permanent;
		rewrite ^/ticket/246$ https://github.com/okfn/openspending/issues/162 permanent;
		rewrite ^/ticket/247$ https://github.com/okfn/openspending/issues/163 permanent;
		rewrite ^/ticket/248$ https://github.com/okfn/openspending/issues/164 permanent;
		rewrite ^/ticket/249$ https://github.com/okfn/openspending/issues/165 permanent;
		rewrite ^/ticket/250$ https://github.com/okfn/openspending/issues/166 permanent;
		rewrite ^/ticket/251$ https://github.com/okfn/openspending/issues/167 permanent;
		rewrite ^/ticket/252$ https://github.com/okfn/openspending/issues/168 permanent;
		rewrite ^/ticket/253$ https://github.com/okfn/openspending/issues/169 permanent;
		rewrite ^/ticket/254$ https://github.com/okfn/openspending/issues/170 permanent;
		rewrite ^/ticket/255$ https://github.com/okfn/openspending/issues/171 permanent;
		rewrite ^/ticket/256$ https://github.com/okfn/openspending/issues/172 permanent;
		rewrite ^/ticket/257$ https://github.com/okfn/openspending/issues/173 permanent;
		rewrite ^/ticket/258$ https://github.com/okfn/openspending/issues/174 permanent;
		rewrite ^/ticket/259$ https://github.com/okfn/openspending/issues/175 permanent;
		rewrite ^/ticket/260$ https://github.com/okfn/openspending/issues/176 permanent;
		rewrite ^/ticket/261$ https://github.com/okfn/openspending/issues/177 permanent;
		rewrite ^/ticket/262$ https://github.com/okfn/openspending/issues/178 permanent;
		rewrite ^/ticket/263$ https://github.com/okfn/openspending/issues/179 permanent;
		rewrite ^/ticket/264$ https://github.com/okfn/openspending/issues/180 permanent;
		rewrite ^/ticket/265$ https://github.com/okfn/openspending/issues/181 permanent;
		rewrite ^/ticket/266$ https://github.com/okfn/openspending/issues/182 permanent;
		rewrite ^/ticket/267$ https://github.com/okfn/openspending/issues/183 permanent;
		rewrite ^/ticket/268$ https://github.com/okfn/openspending/issues/184 permanent;
		rewrite ^/ticket/269$ https://github.com/okfn/openspending/issues/185 permanent;
		rewrite ^/ticket/270$ https://github.com/okfn/openspending/issues/186 permanent;
		rewrite ^/ticket/271$ https://github.com/okfn/openspending/issues/187 permanent;
		rewrite ^/ticket/272$ https://github.com/okfn/openspending/issues/188 permanent;
		rewrite ^(.*)$ https://github.com/okfn/openspending/issues permanent;
	}
	
}
