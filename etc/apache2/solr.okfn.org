<VirtualHost *:80>
	ServerAdmin friedrich@pudo.org
	ServerName solr.okfn.org
	
  DocumentRoot /empty

	ErrorLog /var/log/apache2/solr.okfn.org.error.log
	CustomLog /var/log/apache2/solr.okfn.org.custom.log combined

	<LocationMatch /solr/[^/]*/(admin|update).*$>
		AuthType Basic
		AuthName "Solr Admin"
		AuthUserFile /home/okfn/hg-sysadmin/etc/passwd/okfn_auth_passwords
		AuthGroupFile /home/okfn/hg-sysadmin/etc/passwd/okfn_auth_groups
		Require valid-user
	</LocationMatch>
	
  ProxyRequests Off
	<Proxy *>
		Order deny,allow
		Allow from all
	</Proxy>
   	ProxyPass         /solr http://127.0.0.1:8080/solr
   	ProxyPassReverse  /solr http://127.0.0.1:8080/solr
	ProxyPreserveHost On
</VirtualHost>
